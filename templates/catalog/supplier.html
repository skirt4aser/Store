{% extends 'catalog/main.html' %}

{#{% load bootstrap_toolkit %}#}
{% block content %}
    <div class="row-fluid">
        <div class="span6">
            <div class="widget">
                <div class="widget-header">
                    <div class="title">
                        Контрагенты
                        <span class="mini-title">
                            Справочник контрагентов
                        </span>
                    </div>
                    <span class="tools" id="btnToggleWidget">
                        <a class="fs1"  aria-hidden="true" data-icon="&#xe090;"></a>
                    </span>
                </div>
                <div class="widget-body">
                    <input type='text' class='ajax-typeahead' data-link='your-json-link' />
                </div>                
            </div>
        </div>
        
        <div class="span6">
            <div class="widget" id="supplierWidget">
                <form class="form-horizontal no-margin" method="POST">
                    <div class="widget-header">
                        <div class="title">
                            Контрагент
                            <span class="mini-title">
                                Добавление, редактирование, удаление...
                            </span>
                        </div>
                    </div>
                    <div class="widget-body">
                        {% csrf_token %}
                        {{ form.non_field_errors }}
                        <div class="control-group">
                            <label class="control-label">
                                Наименование
                            </label>
                            <div class="controls controls-row">
                                {{ form.name }}
                                <span class="help-inline ">
                                    {{form.name.errors}}
                                </span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Адрес
                            </label>
                            <div class="controls controls-row">
                                {{ form.address }}
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Телефон
                            </label>
                            <div class="controls controls-row">
                                {{ form.phone }}
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Контактное лицо, ФИО
                            </label>
                            <div class="controls controls-row">
                                {{ form.contact }}
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Контактное лицо, телефон
                            </label>
                            <div class="controls controls-row">
                                {{ form.contact_phone }}
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Комментарий
                            </label>
                            <div class="controls controls-row">
                                {{ form.comment }}
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Контактное лицо, комментарий
                            </label>
                            <div class="controls controls-row">
                                {{ form.contact_comment }}
                            </div>
                        </div>                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-info pull-right" id="add_product">
                                Добавить товар
                            </button>
                            <div class="clearfix">
                            </div>
                        </div>                        
                    </div>
                </form>
            </div>
        </div>            
    </div>

<div class="row-fluid">
    <div class="span12">
        <div class="widget">
            <div class="widget-header">
                <div class="title">
                    Dynamic Tabl<a id="dynamicTable" data-original-title="">e</a>
                </div>
                <span class="tools">
                    <a class="fs1" aria-hidden="true" data-icon="" data-original-title=""></a>
                </span>
            </div>
            <div class="widget-body">
                <div id="dt_example" class="example_alt_pagination">
                <div id="data-table_wrapper" class="dataTables_wrapper" role="grid">
                    <div id="data-table_length" class="dataTables_length">
                        <label>
                            Show 
                            <select size="1" name="data-table_length" aria-controls="data-table">
                                <option value="10" selected="selected">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select> 
                            entries
                        </label>
                    </div>
                    <div class="dataTables_filter" id="data-table_filter">
                        <label>
                            Search: <input type="text" aria-controls="data-table">
                        </label>
                    </div>
                    <table class="table table-condensed table-striped table-hover table-bordered pull-left dataTable" id="data-table" aria-describedby="data-table_info">
                        <thead>
                            <tr role="row">
                                <th style="width: 10%" class="sorting_asc" role="columnheader" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Month: activate to sort column descending">
                                    Month
                                </th>
                            </tr>
                        </thead>    
                        <tbody role="alert" aria-live="polite" aria-relevant="all">
                            <tr class="gradeA error odd">
                                <td class="  sorting_1">
    April
    </td>
    <td class=" ">
    18.3 %
    </td>
    <td class=" ">
    35.8 %
    </td>
    <td class="hidden-phone ">
    38.3 %
    </td>
    <td class="hidden-phone ">
    4.5 %
    </td>
    <td class="hidden-phone ">
    2.3 %
    </td>
    </tr>
    </tr></tbody></table><div class="dataTables_info" id="data-table_info">Showing 1 to 10 of 40 entries</div><div class="dataTables_paginate paging_full_numbers" id="data-table_paginate"><a tabindex="0" class="first paginate_button paginate_button_disabled" id="data-table_first">First</a><a tabindex="0" class="previous paginate_button paginate_button_disabled" id="data-table_previous">Previous</a><span><a tabindex="0" class="paginate_active">1</a><a tabindex="0" class="paginate_button">2</a><a tabindex="0" class="paginate_button">3</a><a tabindex="0" class="paginate_button">4</a></span><a tabindex="0" class="next paginate_button" id="data-table_next">Next</a><a tabindex="0" class="last paginate_button" id="data-table_last">Last</a></div></div>
    <div class="clearfix">
    </div>
    </div>
    </div>
    </div>
    </div>
</div>

{% endblock %}
{% block js %}
    <script type="text/javascript" src="/media/theme/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="/media/store/js/purchase.js"></script>
    <script type="text/javascript" src="/media/theme/js/select2.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){

            var isWidgetVisible = true;
            var me = this;

            $('#btnToggleWidget').click(function() {
                if (isWidgetVisible)
                    $('#supplierWidget').hide();
                else
                    $('#supplierWidget').show();
                isWidgetVisible = !isWidgetVisible;
            });            

            // $('.ajax-typeahead').typeahead({
            //     source: function(query, process) {
            //         return $.ajax({
            //             url: $(this)[0].$element[0].dataset.link,
            //             type: 'get',
            //             data: {query: query},
            //             dataType: 'json',
            //             success: function(json) {
            //                 return typeof json.options == 'undefined' ? false : process(json.options);
            //             }
            //         });
            //     }
            // });

            // $('#id_date').datepicker({
            //     format: 'yyyy-mm-dd'
            // });
            // $('#id_product').select2();
            // $.fn.purchase();
            // $('a').tooltip('hide');
            // $('i').tooltip('hide');
        });
    </script>
{% endblock %}
{% block css %}
    <link href="/media/theme/css/datepicker.css" rel="stylesheet">
    <link href="/media/theme/css/select2.css" rel="stylesheet">
{% endblock %}